{{/*
Language Switcher Component

Creates a dropdown menu for multi-language navigation

Features:
- Only displays if multiple languages are configured
- Uses country flags for visual identification
- Highlights current language
- Uses proper URL construction for GitHub Pages

Language URL Structure:
- English (default): https://site.com/
- Other languages: https://site.com/{lang}/

Configuration:
- Languages defined in hugo.toml
- Language names from hugo.toml languageName property
- Flags hardcoded for EN (ðŸ‡ºðŸ‡¸) and PT (ðŸ‡µðŸ‡¹)
*/}}

{{ if (gt (len .Site.Languages) 1) }}
<div class="language-dropdown dib mr3">
    <div class="language-parent">
        {{/* Dropdown trigger with arrow */}}
        <span class="hover-white white-90 no-underline f5 f4-ns fw4 pv2 ph3 pointer">
            Languages â–¾
        </span>

        {{/* Language options dropdown */}}
        <ul class="language-submenu">
            {{ $currentLang := .Site.Language.Lang }}
            {{ range .Site.Languages }}
            <li class="language-item">
                {{/*
                Language link construction:
                - Uses .Site.BaseURL for GitHub Pages compatibility
                - English gets root path, others get /{lang}/ prefix
                - Highlights current language with 'current' class
                */}}
                <a href="{{ $.Site.BaseURL }}{{ if ne .Lang " en" }}{{ .Lang }}/{{ end }}"
                    class="language-link {{ if eq .Lang $currentLang }}current{{ end }}">
                    {{/* Country flag icons (add more as needed) */}}
                    <span class="flag">{{ if eq .Lang "en" }}ðŸ‡ºðŸ‡¸{{ else if eq .Lang "pt" }}ðŸ‡µðŸ‡¹{{ end }}</span>
                    {{/* Language name from hugo.toml */}}
                    <span class="language-name">{{ .LanguageName }}</span>
                </a>
            </li>
            {{ end }}
        </ul>
    </div>
</div>
{{ end }}